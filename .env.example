# Hybrid RAG AI Platform - Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_NAME="Hybrid RAG Platform"
APP_VERSION="1.0.0"
APP_DESCRIPTION="Production-ready hybrid RAG AI platform"
APP_HOST="0.0.0.0"
APP_PORT=8000
APP_DEBUG=false
APP_RELOAD=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL with pgvector extension
DATABASE_URL="postgresql+asyncpg://rag_user:your_password_here@localhost:5432/rag_platform"
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=0
DATABASE_ECHO=false

# Test Database (for testing only)
TEST_DATABASE_URL="postgresql+asyncpg://test_user:test_password@localhost:5432/test_rag_platform"

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL="redis://localhost:6379/0"
REDIS_POOL_MAX_CONNECTIONS=50

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================
# Qdrant Vector Database
QDRANT_URL="http://localhost:6333"
QDRANT_API_KEY=""
QDRANT_TIMEOUT=60

# Elasticsearch (optional)
ELASTICSEARCH_URL="http://localhost:9200"
ELASTICSEARCH_USERNAME=""
ELASTICSEARCH_PASSWORD=""

# =============================================================================
# OBJECT STORAGE CONFIGURATION
# =============================================================================
# MinIO/S3 Configuration
MINIO_ENDPOINT="localhost:9000"
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin123"
MINIO_SECURE=false
MINIO_BUCKET_NAME="rag-documents"

# =============================================================================
# AI/ML API KEYS
# =============================================================================
# OpenAI API Key (required for embeddings and LLM)
OPENAI_API_KEY="sk-your-openai-api-key-here"

# Other LLM Providers (optional)
ANTHROPIC_API_KEY="your-anthropic-api-key-here"
GOOGLE_API_KEY="your-google-api-key-here"
COHERE_API_KEY="your-cohere-api-key-here"

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration (REQUIRED - Generate strong random keys)
JWT_SECRET_KEY="your-jwt-secret-key-change-this-in-production"
JWT_ALGORITHM="HS256"
JWT_EXPIRATION_HOURS=24
REFRESH_TOKEN_EXPIRATION_DAYS=30
JWT_REFRESH_SECRET_KEY="your-jwt-refresh-secret-key-change-this"

# Application Security Keys (REQUIRED)
SECRET_KEY="your-secret-key-change-this-in-production"
ENCRYPTION_KEY="your-encryption-key-32-characters"
MASTER_ENCRYPTION_KEY="your-master-encryption-key-32-chars"

# Password Hashing
HASH_ALGORITHM="argon2"

# CORS Origins (comma-separated)
CORS_ORIGINS="http://localhost:3000,http://localhost:8000,https://yourdomain.com"

# =============================================================================
# OAUTH CONFIGURATION (Optional)
# =============================================================================
OAUTH_CLIENT_ID="your-oauth-client-id"
OAUTH_CLIENT_SECRET="your-oauth-client-secret"
OAUTH_DOMAIN="your-oauth-domain"
OAUTH_AUDIENCE="your-oauth-audience"

# =============================================================================
# ENHANCED SECURITY SETTINGS
# =============================================================================
ENCRYPTION_ENABLED=true
ENCRYPTION_ALGORITHM="AES-256-GCM"
KEY_ROTATION_INTERVAL_DAYS=90

# Session Management
SESSION_TIMEOUT_MINUTES=60
MAX_CONCURRENT_SESSIONS=5
SESSION_SECURITY_ENABLED=true

# Access Control
RBAC_ENABLED=true
ABAC_ENABLED=true
MFA_ENABLED=false
MFA_REQUIRED_FOR_ADMIN=true

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================
# Audit Configuration
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=2555
COMPLIANCE_MODE="standard"

# Privacy and Data Protection
GDPR_COMPLIANCE_ENABLED=true
CCPA_COMPLIANCE_ENABLED=true
HIPAA_COMPLIANCE_ENABLED=false
PII_DETECTION_ENABLED=true
PII_ANONYMIZATION_ENABLED=true

# Data Retention
DEFAULT_DATA_RETENTION_DAYS=2555
AUTOMATIC_DATA_CLEANUP_ENABLED=true
DATA_EXPORT_ENABLED=true

# Security Monitoring
SECURITY_MONITORING_ENABLED=true
ANOMALY_DETECTION_ENABLED=true
SECURITY_ALERTS_ENABLED=true
INTRUSION_DETECTION_ENABLED=true

# =============================================================================
# OBSERVABILITY & MONITORING
# =============================================================================
# OpenTelemetry Configuration
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4317"
OTEL_SERVICE_NAME="rag-platform"
OTEL_RESOURCE_ATTRIBUTES="service.version=1.0.0"

# Prometheus
PROMETHEUS_GATEWAY="localhost:9090"
ENABLE_METRICS=true
ENABLE_PROMETHEUS=true
METRICS_PORT=8000

# Jaeger Tracing
JAEGER_ENABLED=true
JAEGER_ENDPOINT=""
JAEGER_HOST="localhost"
JAEGER_PORT=6831
JAEGER_AGENT_HOST="localhost"
JAEGER_AGENT_PORT=6831
ENABLE_TRACING=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL="INFO"
LOG_FORMAT="json"
LOG_FILE=""
LOG_ROTATION="1 day"
LOG_RETENTION="30 days"

# =============================================================================
# ENVIRONMENT & VERSIONING
# =============================================================================
ENVIRONMENT="development"
VERSION="1.0.0"

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200

# =============================================================================
# AI/ML MODEL CONFIGURATION
# =============================================================================
# Embedding Models
EMBEDDING_MODEL="text-embedding-3-large"
EMBEDDING_DIMENSIONS=3072
LOCAL_EMBEDDING_MODEL="BAAI/bge-m3"
RE_RANKING_MODEL="BAAI/bge-reranker-large"

# LLM Configuration
DEFAULT_LLM_MODEL="gpt-4-turbo-preview"
FALLBACK_LLM_MODEL="gpt-3.5-turbo"
MAX_TOKENS=4000
TEMPERATURE=0.1
TOP_P=0.9

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================
MAX_FILE_SIZE_MB=100
SUPPORTED_LANGUAGES="en,he,ar,es,fr,de"
CHUNK_SIZE=600
CHUNK_OVERLAP=100
MAX_CHUNKS_PER_DOCUMENT=1000

# =============================================================================
# COST MANAGEMENT
# =============================================================================
MAX_COST_PER_QUERY_USD=0.10
DAILY_COST_LIMIT_USD=100.00
MONTHLY_COST_LIMIT_USD=3000.00

# =============================================================================
# MULTI-TENANCY
# =============================================================================
MULTI_TENANT_MODE=true
DEFAULT_TENANT_PLAN="basic"
MAX_DOCUMENTS_PER_TENANT=10000
MAX_QUERIES_PER_DAY=1000

# =============================================================================
# BACKGROUND TASKS (Celery)
# =============================================================================
CELERY_BROKER_URL="redis://localhost:6379/1"
CELERY_RESULT_BACKEND="redis://localhost:6379/2"
CELERY_TASK_SERIALIZER="json"
CELERY_ACCEPT_CONTENT="json"
CELERY_TIMEZONE="UTC"

# =============================================================================
# HEALTH CHECKS & MONITORING
# =============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
METRICS_COLLECTION_INTERVAL=60

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_REAL_TIME_UPDATES=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_EXPERT_SYSTEM=true
ENABLE_FEEDBACK_LEARNING=true
ENABLE_COST_OPTIMIZATION=true

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
TESTING=false
MOCK_LLM_RESPONSES=false
SKIP_EMBEDDINGS=false

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USERNAME="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_TLS=true
SMTP_SSL=false

# =============================================================================
# WEBHOOKS & INTEGRATIONS (Optional)
# =============================================================================
WEBHOOK_SECRET="your-webhook-secret"
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/your/webhook/url"
DISCORD_WEBHOOK_URL="https://discord.com/api/webhooks/your/webhook/url"

# =============================================================================
# PRODUCTION DEPLOYMENT (Update for production)
# =============================================================================
# Domain Configuration
DOMAIN_NAME="yourdomain.com"
ALLOWED_HOSTS="yourdomain.com,api.yourdomain.com,localhost,127.0.0.1"

# SSL/TLS
SSL_ENABLED=true
SSL_REDIRECT=true

# Database Connection Pool (Production)
DATABASE_POOL_SIZE=50
DATABASE_MAX_OVERFLOW=20

# Redis Pool (Production)
REDIS_POOL_MAX_CONNECTIONS=100

# =============================================================================
# CLOUD PROVIDER SPECIFIC (Optional)
# =============================================================================
# AWS Configuration
AWS_REGION="us-west-2"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_BUCKET=""

# Azure Configuration
AZURE_STORAGE_CONNECTION_STRING=""
AZURE_STORAGE_CONTAINER=""

# GCP Configuration
GOOGLE_CLOUD_PROJECT=""
GOOGLE_APPLICATION_CREDENTIALS=""
GCP_STORAGE_BUCKET=""